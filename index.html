<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Minecraft Server</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ”¥ My Minecraft Server</h1>
    <nav>
      <a href="#about">About</a>
      <a href="#plugins">Plugins</a>
      <a href="#status">Status</a>
      <a href="#start">Start Server</a>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>ğŸŒ Server Info</h2>
      <p><strong>Java IP:</strong> <span id="java-ip">mc1524209.fmcs.cloud</span> <button onclick="copyToClipboard('java-ip')">ğŸ“‹ Copy</button></p>
      <p><strong>Bedrock IP:</strong> <span id="bedrock-ip">mc1524209.fmcs.cloud</span> <button onclick="copyToClipboard('bedrock-ip')">ğŸ“‹ Copy</button></p>
      <p><strong>Version:</strong> Java 1.20.1 / Bedrock (via Geyser)</p>
      <p><strong>Public Page:</strong> <a href="https://freemcserver.net/server/1524209" target="_blank">View Server</a></p>
    </section>

    <section id="status">
      <h2>ğŸ“Š Server Status</h2>
      <div id="server-status">Checking status...</div>
      <div id="player-count"></div>
    </section>

    <section id="start">
      <h2>ğŸ”§ Start Server</h2>
      <p>Enter your FreeMcServer Username:</p>
      <input type="text" id="username" placeholder="e.g. ansh2613">
      <button onclick="generateLink()">Generate Start Link</button>
      <p id="start-link"></p>
    </section>

    <section id="plugins">
      <h2>ğŸ”Œ Plugins</h2>
      <ul>
        <li>SkinRestorer</li>
        <li>ViaVersion</li>
        <li>LuckPerms</li>
        <li>Vault</li>
        <li>CoreProtect</li>
        <li>OnlineTime</li>
        <li>PicoJobs</li>
        <li>GSit</li>
        <li>EconomyShopGUI</li>
        <li>BeastLib</li>
        <li>Geyser-Spigot</li>
        <li>ViaBackwards</li>
        <li>EssentialsX</li>
      </ul>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 My Minecraft Server. Hosted via <a href="https://freemcserver.net">FreeMcServer.net</a></p>
  </footer>

  <script>
    const serverIP = "mc1524209.fmcs.cloud";

    async function fetchServerStatus() {
      const res = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
      const data = await res.json();
      const statusDiv = document.getElementById("server-status");
      const playersDiv = document.getElementById("player-count");

      if (!data.online) {
        statusDiv.innerHTML = "ğŸŸ¥ Server is Offline";
        playersDiv.innerHTML = "";
      } else {
        statusDiv.innerHTML = "ğŸŸ© Server is Online";
        playersDiv.innerHTML = `ğŸ‘¥ ${data.players.online}/${data.players.max} Players`;
      }
    }

    fetchServerStatus();
    setInterval(fetchServerStatus, 3000); // Refresh every 3 seconds

    function generateLink() {
      const username = document.getElementById("username").value.trim();
      const linkDiv = document.getElementById("start-link");
      if (username) {
        linkDiv.innerHTML = `ğŸ”— <a href="https://freemcserver.net/server/1524209/share/${username}" target="_blank">Start Server as ${username}</a>`;
      } else {
        linkDiv.innerHTML = "âš ï¸ Enter a valid username!";
      }
    }

    function copyToClipboard(id) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied: " + text);
      });
    }
  </script>
</body>
</html>
